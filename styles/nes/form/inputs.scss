@use '../../mixins' as mixins;
@use '../../variables' as variables;
@use '../base/variables' as nesVariables;

$border-size: 4px;
// Gameboy Greens
$darkest-green: #202119;
$darker-green: #4d513a;
$primary-green: #8d956e;
$brighter-green: #c5d1a3;
$brightest-green: #e6ecca;
$background-color: $primary-green;
$base-color: $darkest-green;

.nes-input,
.nes-textarea {
  @mixin border-style($border, $outline) {
    @include mixins.compact-border-image($border);

    outline-color: $outline;
  }

  @include mixins.compact-rounded-corners();

  width: calc(100% - #{2 * variables.$border-size});
  padding: 0.5rem 1rem;
  margin: 4px;
  background-clip: padding-box;

  &.is-dark {
    @include border-style(map-get(nesVariables.$default-colors, "normal"), map-get(nesVariables.$default-colors, "hover"));

    color: $background-color;
    background-color: $base-color;
  }
  &.is-success {
    @include border-style(map-get(nesVariables.$success-colors, "normal"), map-get(nesVariables.$success-colors, "hover"));
  }
  &.is-warning {
    @include border-style(map-get(nesVariables.$warning-colors, "normal"), map-get(nesVariables.$warning-colors, "hover"));
  }
  &.is-error {
    @include border-style(map-get(nesVariables.$error-colors, "normal"), map-get(nesVariables.$error-colors, "hover"));
  }
  &.is-disabled {
    @include border-style(map-get(nesVariables.$disabled-colors, "normal"), map-get(nesVariables.$disabled-colors, "shadow"));

    color: map-get(nesVariables.$disabled-colors, "normal");
    cursor: not-allowed;
  }
}

.nes-field {
  > label {
    display: block;
  }
  .nes-input,
  .nes-textarea {
    display: block;
  }

  &.is-inline {
    display: flex;
    align-items: center;

    > label {
      flex-basis: 0;
      flex-grow: 1;
      margin: 0;
      margin-right: 1.5rem;
      text-align: right;
    }

    .nes-input,
    .nes-textarea {
      flex-basis: 0;
      flex-grow: 5;
    }
  }
}

@media screen and (max-width: 768px) {
  .nes-field.is-inline {
    display: block;

    > label {
      margin-bottom: 0.5rem; // reboot.css:label
      text-align: left;
    }

    .nes-input {
      max-width: 100%;
    }
  }
}
